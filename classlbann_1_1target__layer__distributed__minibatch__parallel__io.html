<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>LBANN: lbann::target_layer_distributed_minibatch_parallel_io Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">LBANN
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classlbann_1_1target__layer__distributed__minibatch__parallel__io.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classlbann_1_1target__layer__distributed__minibatch__parallel__io-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">lbann::target_layer_distributed_minibatch_parallel_io Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8hpp_source.html">lbann_target_layer_distributed_minibatch_parallel_io.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for lbann::target_layer_distributed_minibatch_parallel_io:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1target__layer__distributed__minibatch__parallel__io__inherit__graph.png" border="0" usemap="#lbann_1_1target__layer__distributed__minibatch__parallel__io_inherit__map" alt="Inheritance graph"/></div>
<map name="lbann_1_1target__layer__distributed__minibatch__parallel__io_inherit__map" id="lbann_1_1target__layer__distributed__minibatch__parallel__io_inherit__map">
<area shape="rect" id="node2" href="classlbann_1_1target__layer.html" title="lbann::target_layer" alt="" coords="5,85,137,111"/><area shape="rect" id="node3" href="classlbann_1_1Layer.html" title="lbann::Layer" alt="" coords="24,5,119,31"/><area shape="rect" id="node4" href="classlbann_1_1distributed__minibatch__parallel__io.html" title="lbann::distributed\l_minibatch_parallel_io" alt="" coords="161,79,315,117"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for lbann::target_layer_distributed_minibatch_parallel_io:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1target__layer__distributed__minibatch__parallel__io__coll__graph.png" border="0" usemap="#lbann_1_1target__layer__distributed__minibatch__parallel__io_coll__map" alt="Collaboration graph"/></div>
<map name="lbann_1_1target__layer__distributed__minibatch__parallel__io_coll__map" id="lbann_1_1target__layer__distributed__minibatch__parallel__io_coll__map">
<area shape="rect" id="node2" href="classlbann_1_1target__layer.html" title="lbann::target_layer" alt="" coords="119,204,251,229"/><area shape="rect" id="node3" href="classlbann_1_1Layer.html" title="lbann::Layer" alt="" coords="127,92,222,117"/><area shape="rect" id="node4" href="classlbann_1_1lbann__comm.html" title="lbann::lbann_comm" alt="" coords="13,5,151,31"/><area shape="rect" id="node7" href="classlbann_1_1distributed__minibatch__parallel__io.html" title="lbann::distributed\l_minibatch_parallel_io" alt="" coords="5,141,159,180"/><area shape="rect" id="node5" href="classlbann_1_1Optimizer.html" title="lbann::Optimizer" alt="" coords="175,5,294,31"/><area shape="rect" id="node6" href="classlbann_1_1DataReader.html" title="lbann::DataReader" alt="" coords="245,92,378,117"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a078396fa0761ed6ad0222932bd18e8d3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a078396fa0761ed6ad0222932bd18e8d3">target_layer_distributed_minibatch_parallel_io</a> (<a class="el" href="classlbann_1_1lbann__comm.html">lbann_comm</a> *<a class="el" href="classlbann_1_1distributed__minibatch__parallel__io.html#a651f8eab68ea1ca97a9689b372d93293">comm</a>, int num_parallel_readers, <a class="el" href="datatype_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> mini_batch_size, <a class="el" href="classlbann_1_1DataReader.html">DataReader</a> *training_data_reader, <a class="el" href="classlbann_1_1DataReader.html">DataReader</a> *testing_data_reader, bool shared_data_reader)</td></tr>
<tr class="separator:a078396fa0761ed6ad0222932bd18e8d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af23d08903051b59020a4b89566923964"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#af23d08903051b59020a4b89566923964">target_layer_distributed_minibatch_parallel_io</a> (<a class="el" href="classlbann_1_1lbann__comm.html">lbann_comm</a> *<a class="el" href="classlbann_1_1distributed__minibatch__parallel__io.html#a651f8eab68ea1ca97a9689b372d93293">comm</a>, int num_parallel_readers, <a class="el" href="datatype_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> mini_batch_size, <a class="el" href="classlbann_1_1DataReader.html">DataReader</a> *training_data_reader, bool shared_data_reader)</td></tr>
<tr class="separator:af23d08903051b59020a4b89566923964"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3d33d5cbe949783e2ef489bc771a721"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#ae3d33d5cbe949783e2ef489bc771a721">setup</a> (int num_prev_neurons)</td></tr>
<tr class="separator:ae3d33d5cbe949783e2ef489bc771a721"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14c4106696d7ae83784b22de93a46e0a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a14c4106696d7ae83784b22de93a46e0a">forwardProp</a> (<a class="el" href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a> prev_WBL2NormSum)</td></tr>
<tr class="separator:a14c4106696d7ae83784b22de93a46e0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ffccd98d1761568c39b998be7c70972"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a2ffccd98d1761568c39b998be7c70972">backProp</a> ()</td></tr>
<tr class="separator:a2ffccd98d1761568c39b998be7c70972"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a628b485db774f8a5a4e093edd8b73f3f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a628b485db774f8a5a4e093edd8b73f3f">update</a> ()</td></tr>
<tr class="separator:a628b485db774f8a5a4e093edd8b73f3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac848395e55b96cf53462d67efc42efb9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#ac848395e55b96cf53462d67efc42efb9">fetch_from_data_reader</a> (<a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;M_local)</td></tr>
<tr class="separator:ac848395e55b96cf53462d67efc42efb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0866c6c725c0938d388fea84f3ad398"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#af0866c6c725c0938d388fea84f3ad398">preprocess_data_samples</a> (<a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;M_local, int num_samples_in_batch)</td></tr>
<tr class="separator:af0866c6c725c0938d388fea84f3ad398"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06800a7f630fef832057bd232911efb2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a06800a7f630fef832057bd232911efb2">update_data_reader</a> ()</td></tr>
<tr class="separator:a06800a7f630fef832057bd232911efb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1656c9772680bc8d4ba8277274c6f27d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="lbann__base_8hpp.html#a2781a159088df64ed7d47cc91c4dc0a8">execution_mode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a1656c9772680bc8d4ba8277274c6f27d">get_execution_mode</a> ()</td></tr>
<tr class="separator:a1656c9772680bc8d4ba8277274c6f27d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classlbann_1_1target__layer"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classlbann_1_1target__layer')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classlbann_1_1target__layer.html">lbann::target_layer</a></td></tr>
<tr class="memitem:af2b2b61ede783cd14c7d13279351f738 inherit pub_methods_classlbann_1_1target__layer"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1target__layer.html#af2b2b61ede783cd14c7d13279351f738">target_layer</a> (<a class="el" href="classlbann_1_1lbann__comm.html">lbann_comm</a> *<a class="el" href="classlbann_1_1Layer.html#ad20dd05617ed950162e0fdb95bc23096">comm</a>, <a class="el" href="datatype_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> mini_batch_size, <a class="el" href="classlbann_1_1DataReader.html">DataReader</a> *training_data_reader, <a class="el" href="classlbann_1_1DataReader.html">DataReader</a> *testing_data_reader, bool shared_data_reader)</td></tr>
<tr class="separator:af2b2b61ede783cd14c7d13279351f738 inherit pub_methods_classlbann_1_1target__layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e657cbc5d03a94d84c229643fcef7d4 inherit pub_methods_classlbann_1_1target__layer"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1target__layer.html#a5e657cbc5d03a94d84c229643fcef7d4">target_layer</a> (<a class="el" href="classlbann_1_1lbann__comm.html">lbann_comm</a> *<a class="el" href="classlbann_1_1Layer.html#ad20dd05617ed950162e0fdb95bc23096">comm</a>, <a class="el" href="datatype_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> mini_batch_size, <a class="el" href="classlbann_1_1DataReader.html">DataReader</a> *training_data_reader, bool shared_data_reader)</td></tr>
<tr class="separator:a5e657cbc5d03a94d84c229643fcef7d4 inherit pub_methods_classlbann_1_1target__layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a185ad843c9c35e66bc904e28f6f864 inherit pub_methods_classlbann_1_1target__layer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="lbann__base_8hpp.html#a270ddda44ad6a3abd3cfe8358cf581e6">DistMat</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1target__layer.html#a9a185ad843c9c35e66bc904e28f6f864">fp_output</a> ()</td></tr>
<tr class="separator:a9a185ad843c9c35e66bc904e28f6f864 inherit pub_methods_classlbann_1_1target__layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf3c3f3037ddff8619012dbd0f8027ca inherit pub_methods_classlbann_1_1target__layer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlbann_1_1DataReader.html">DataReader</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1target__layer.html#abf3c3f3037ddff8619012dbd0f8027ca">select_data_reader</a> ()</td></tr>
<tr class="separator:abf3c3f3037ddff8619012dbd0f8027ca inherit pub_methods_classlbann_1_1target__layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac89369f405bde43949b46ec19bfd9201 inherit pub_methods_classlbann_1_1target__layer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlbann_1_1DataReader.html">DataReader</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1target__layer.html#ac89369f405bde43949b46ec19bfd9201">set_training_data_reader</a> (<a class="el" href="classlbann_1_1DataReader.html">DataReader</a> *data_reader, bool shared_data_reader)</td></tr>
<tr class="separator:ac89369f405bde43949b46ec19bfd9201 inherit pub_methods_classlbann_1_1target__layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96accfb72fb8244d3741361b1de5e6ff inherit pub_methods_classlbann_1_1target__layer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlbann_1_1DataReader.html">DataReader</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1target__layer.html#a96accfb72fb8244d3741361b1de5e6ff">set_testing_data_reader</a> (<a class="el" href="classlbann_1_1DataReader.html">DataReader</a> *data_reader, bool shared_data_reader)</td></tr>
<tr class="separator:a96accfb72fb8244d3741361b1de5e6ff inherit pub_methods_classlbann_1_1target__layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50927ad4992f89e897c710f13d5db4e9 inherit pub_methods_classlbann_1_1target__layer"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1target__layer.html#a50927ad4992f89e897c710f13d5db4e9">update_num_samples_processed</a> (long num_samples)</td></tr>
<tr class="separator:a50927ad4992f89e897c710f13d5db4e9 inherit pub_methods_classlbann_1_1target__layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a784d7f5c95534cb694b00925e447b0e3 inherit pub_methods_classlbann_1_1target__layer"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1target__layer.html#a784d7f5c95534cb694b00925e447b0e3">get_num_samples_trained</a> ()</td></tr>
<tr class="separator:a784d7f5c95534cb694b00925e447b0e3 inherit pub_methods_classlbann_1_1target__layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab201719778ec2022b29dad6e8557e134 inherit pub_methods_classlbann_1_1target__layer"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1target__layer.html#ab201719778ec2022b29dad6e8557e134">get_num_samples_tested</a> ()</td></tr>
<tr class="separator:ab201719778ec2022b29dad6e8557e134 inherit pub_methods_classlbann_1_1target__layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f6af883c276806a8aff26f554b98cf8 inherit pub_methods_classlbann_1_1target__layer"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1target__layer.html#a5f6af883c276806a8aff26f554b98cf8">get_total_num_training_samples</a> ()</td></tr>
<tr class="separator:a5f6af883c276806a8aff26f554b98cf8 inherit pub_methods_classlbann_1_1target__layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec372a21c284f6436561e50b24b0a08a inherit pub_methods_classlbann_1_1target__layer"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1target__layer.html#aec372a21c284f6436561e50b24b0a08a">get_total_num_testing_samples</a> ()</td></tr>
<tr class="separator:aec372a21c284f6436561e50b24b0a08a inherit pub_methods_classlbann_1_1target__layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classlbann_1_1Layer"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classlbann_1_1Layer')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classlbann_1_1Layer.html">lbann::Layer</a></td></tr>
<tr class="memitem:a1ec6f296f7eb0bab2771f39dc68a5bf9 inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a1ec6f296f7eb0bab2771f39dc68a5bf9">Layer</a> (const <a class="el" href="datatype_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> index, <a class="el" href="classlbann_1_1lbann__comm.html">lbann_comm</a> *<a class="el" href="classlbann_1_1Layer.html#ad20dd05617ed950162e0fdb95bc23096">comm</a>, <a class="el" href="classlbann_1_1Optimizer.html">Optimizer</a> *<a class="el" href="classlbann_1_1Layer.html#a5caea149f8ecebff4b77efd1248b8267">optimizer</a>, <a class="el" href="datatype_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> mbsize)</td></tr>
<tr class="separator:a1ec6f296f7eb0bab2771f39dc68a5bf9 inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98ba11b43ab5784b15bd7dbc153f473c inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a98ba11b43ab5784b15bd7dbc153f473c">Layer</a> (const <a class="el" href="datatype_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> index, <a class="el" href="classlbann_1_1lbann__comm.html">lbann_comm</a> *<a class="el" href="classlbann_1_1Layer.html#ad20dd05617ed950162e0fdb95bc23096">comm</a>, <a class="el" href="classlbann_1_1Optimizer.html">Optimizer</a> *<a class="el" href="classlbann_1_1Layer.html#a5caea149f8ecebff4b77efd1248b8267">optimizer</a>, <a class="el" href="datatype_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> mbsize, std::vector&lt; <a class="el" href="classlbann_1_1regularizer.html">regularizer</a> * &gt; regs)</td></tr>
<tr class="separator:a98ba11b43ab5784b15bd7dbc153f473c inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68c3f57587956da938406812f13ecb78 inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a68c3f57587956da938406812f13ecb78">~Layer</a> ()</td></tr>
<tr class="separator:a68c3f57587956da938406812f13ecb78 inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff82d98a534f0dfc3b0cb200a9aff90a inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#aff82d98a534f0dfc3b0cb200a9aff90a">summarize</a> (<a class="el" href="classlbann_1_1lbann__summary.html">lbann_summary</a> &amp;summarizer, int64_t step)</td></tr>
<tr class="separator:aff82d98a534f0dfc3b0cb200a9aff90a inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af258db35456927df5df31af6bcd33473 inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#af258db35456927df5df31af6bcd33473">epoch_print</a> () const </td></tr>
<tr class="separator:af258db35456927df5df31af6bcd33473 inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a165d07794df1b67b6034e80ce003f714 inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a165d07794df1b67b6034e80ce003f714">checkGradientMB</a> (<a class="el" href="classlbann_1_1Layer.html">Layer</a> &amp;PrevLayer, const <a class="el" href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a> Epsilon=1e-4)</td></tr>
<tr class="separator:a165d07794df1b67b6034e80ce003f714 inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab178f73070d2764151a7e6be2614acda inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="datatype_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#ab178f73070d2764151a7e6be2614acda">get_index</a> () const </td></tr>
<tr class="separator:ab178f73070d2764151a7e6be2614acda inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a190982036d52d288d3528a16e30418e0 inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="lbann__base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a190982036d52d288d3528a16e30418e0">get_weights_biases</a> ()</td></tr>
<tr class="separator:a190982036d52d288d3528a16e30418e0 inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b2b92aa11d932d62456c21ed929b263 inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="lbann__base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a4b2b92aa11d932d62456c21ed929b263">get_weights_biases_gradient</a> ()</td></tr>
<tr class="separator:a4b2b92aa11d932d62456c21ed929b263 inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f196ef8b7a8ed9562aca11eae8cf749 inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classlbann_1_1Optimizer.html">Optimizer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a2f196ef8b7a8ed9562aca11eae8cf749">get_optimizer</a> () const </td></tr>
<tr class="separator:a2f196ef8b7a8ed9562aca11eae8cf749 inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaab698fe711b0dd0ada944059a18142 inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="datatype_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#adaab698fe711b0dd0ada944059a18142">get_effective_minibatch_size</a> () const </td></tr>
<tr class="separator:adaab698fe711b0dd0ada944059a18142 inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a764387b1c6c66436120bbbff79649e70 inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a764387b1c6c66436120bbbff79649e70">set_effective_minibatch_size</a> (<a class="el" href="datatype_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> size)</td></tr>
<tr class="separator:a764387b1c6c66436120bbbff79649e70 inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad547eae2227e9db8f5621b8f616be083 inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="lbann__base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#ad547eae2227e9db8f5621b8f616be083">fp_output</a> ()</td></tr>
<tr class="separator:ad547eae2227e9db8f5621b8f616be083 inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a030edc2fd4cc62d9e13c3b7e81167be3 inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="lbann__base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a030edc2fd4cc62d9e13c3b7e81167be3">bp_output</a> ()</td></tr>
<tr class="separator:a030edc2fd4cc62d9e13c3b7e81167be3 inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77218f0f8e30061563495930f5f454dd inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a77218f0f8e30061563495930f5f454dd">setup_fp_input</a> (<a class="el" href="lbann__base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> *<a class="el" href="classlbann_1_1Layer.html#aa4f7b14ea6448703edc07ae4e43cb20a">fp_input</a>)</td></tr>
<tr class="separator:a77218f0f8e30061563495930f5f454dd inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a275987dded3345f86aa3c8fc5f2e37de inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a275987dded3345f86aa3c8fc5f2e37de">setup_bp_input</a> (<a class="el" href="lbann__base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> *<a class="el" href="classlbann_1_1Layer.html#ab8ec7fc7bd902123d7b7788b6284ca62">bp_input</a>)</td></tr>
<tr class="separator:a275987dded3345f86aa3c8fc5f2e37de inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac46bf08faa4b4f0bea3dcbd88aa3dfe4 inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#ac46bf08faa4b4f0bea3dcbd88aa3dfe4">saveToFile</a> (int fd, const char *filename)</td></tr>
<tr class="separator:ac46bf08faa4b4f0bea3dcbd88aa3dfe4 inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29f7d292db0394489f1302b2aae81dc4 inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a29f7d292db0394489f1302b2aae81dc4">loadFromFile</a> (int fd, const char *filename)</td></tr>
<tr class="separator:a29f7d292db0394489f1302b2aae81dc4 inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe469288e72b03dcd5da83b994148f7b inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#abe469288e72b03dcd5da83b994148f7b">saveToCheckpoint</a> (int fd, const char *filename, uint64_t *bytes)</td></tr>
<tr class="separator:abe469288e72b03dcd5da83b994148f7b inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88c3ac4ca87586ec20558aaddda76691 inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a88c3ac4ca87586ec20558aaddda76691">loadFromCheckpoint</a> (int fd, const char *filename, uint64_t *bytes)</td></tr>
<tr class="separator:a88c3ac4ca87586ec20558aaddda76691 inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2ca40fa9c438e235b897e2d180b6c93 inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#ad2ca40fa9c438e235b897e2d180b6c93">saveToCheckpointShared</a> (const char *dir, uint64_t *bytes)</td></tr>
<tr class="separator:ad2ca40fa9c438e235b897e2d180b6c93 inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a973c6841febca94a9ad755d18d696bf3 inherit pub_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a973c6841febca94a9ad755d18d696bf3">loadFromCheckpointShared</a> (const char *dir, uint64_t *bytes)</td></tr>
<tr class="separator:a973c6841febca94a9ad755d18d696bf3 inherit pub_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classlbann_1_1distributed__minibatch__parallel__io"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classlbann_1_1distributed__minibatch__parallel__io')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classlbann_1_1distributed__minibatch__parallel__io.html">lbann::distributed_minibatch_parallel_io</a></td></tr>
<tr class="memitem:ab70e74051e0453f17db8c3f69876d03a inherit pub_methods_classlbann_1_1distributed__minibatch__parallel__io"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1distributed__minibatch__parallel__io.html#ab70e74051e0453f17db8c3f69876d03a">distributed_minibatch_parallel_io</a> (<a class="el" href="classlbann_1_1lbann__comm.html">lbann_comm</a> *<a class="el" href="classlbann_1_1distributed__minibatch__parallel__io.html#a651f8eab68ea1ca97a9689b372d93293">comm</a>, int num_parallel_readers, <a class="el" href="datatype_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> mini_batch_size, int training_data_set_size, int testing_data_set_size=0)</td></tr>
<tr class="separator:ab70e74051e0453f17db8c3f69876d03a inherit pub_methods_classlbann_1_1distributed__minibatch__parallel__io"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5cc95374bcb47c97105b387950ca8e1 inherit pub_methods_classlbann_1_1distributed__minibatch__parallel__io"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1distributed__minibatch__parallel__io.html#ad5cc95374bcb47c97105b387950ca8e1">fetch_to_local_matrix</a> (<a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;M_local)</td></tr>
<tr class="separator:ad5cc95374bcb47c97105b387950ca8e1 inherit pub_methods_classlbann_1_1distributed__minibatch__parallel__io"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5d6b3b6740f91ef083eeac3cc52c10a inherit pub_methods_classlbann_1_1distributed__minibatch__parallel__io"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1distributed__minibatch__parallel__io.html#ac5d6b3b6740f91ef083eeac3cc52c10a">distribute_from_local_matrix</a> (<a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;M_local, <a class="el" href="lbann__base_8hpp.html#aaf89a79f1476644edba844c4937abbcc">CircMat</a> &amp;Ms)</td></tr>
<tr class="separator:ac5d6b3b6740f91ef083eeac3cc52c10a inherit pub_methods_classlbann_1_1distributed__minibatch__parallel__io"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17aa20ba6b971b6433da058be0d4545a inherit pub_methods_classlbann_1_1distributed__minibatch__parallel__io"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1distributed__minibatch__parallel__io.html#a17aa20ba6b971b6433da058be0d4545a">is_data_set_processed</a> ()</td></tr>
<tr class="separator:a17aa20ba6b971b6433da058be0d4545a inherit pub_methods_classlbann_1_1distributed__minibatch__parallel__io"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae63fb14ed9851fdebd6fde53a15b450d inherit pub_methods_classlbann_1_1distributed__minibatch__parallel__io"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1distributed__minibatch__parallel__io.html#ae63fb14ed9851fdebd6fde53a15b450d">get_num_parallel_readers</a> ()</td></tr>
<tr class="separator:ae63fb14ed9851fdebd6fde53a15b450d inherit pub_methods_classlbann_1_1distributed__minibatch__parallel__io"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a1c8e6038e112145fa6eaf37e6cb3d4 inherit pub_methods_classlbann_1_1distributed__minibatch__parallel__io"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1distributed__minibatch__parallel__io.html#a1a1c8e6038e112145fa6eaf37e6cb3d4">is_current_root</a> ()</td></tr>
<tr class="memdesc:a1a1c8e6038e112145fa6eaf37e6cb3d4 inherit pub_methods_classlbann_1_1distributed__minibatch__parallel__io"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is this rank the current root node for the Elemental Distribution.  <a href="#a1a1c8e6038e112145fa6eaf37e6cb3d4">More...</a><br /></td></tr>
<tr class="separator:a1a1c8e6038e112145fa6eaf37e6cb3d4 inherit pub_methods_classlbann_1_1distributed__minibatch__parallel__io"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:adb060d52e4e5241d9e1efb2e425647d2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#adb060d52e4e5241d9e1efb2e425647d2">Y_local</a></td></tr>
<tr class="separator:adb060d52e4e5241d9e1efb2e425647d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0186b22a8ba21f0b09b3baf8415bd1c5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="lbann__base_8hpp.html#aaf89a79f1476644edba844c4937abbcc">CircMat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a0186b22a8ba21f0b09b3baf8415bd1c5">Ys</a></td></tr>
<tr class="separator:a0186b22a8ba21f0b09b3baf8415bd1c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac924bdddbbacdf2f6fe89d407bace01d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="lbann__base_8hpp.html#a6034e0823933305d0bd7b5ef860f5c50">ColSumMat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#ac924bdddbbacdf2f6fe89d407bace01d">YsColMax</a></td></tr>
<tr class="separator:ac924bdddbbacdf2f6fe89d407bace01d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f793891c78e2799bfa3ba8ca2490ca2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="lbann__base_8hpp.html#ac1f107dfdc1d078904b4b666af5b6b86">StarMat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a7f793891c78e2799bfa3ba8ca2490ca2">YsColMaxStar</a></td></tr>
<tr class="memdesc:a7f793891c78e2799bfa3ba8ca2490ca2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Note that the column max matrix has the number of mini-batches on the rows instead of columns.  <a href="#a7f793891c78e2799bfa3ba8ca2490ca2">More...</a><br /></td></tr>
<tr class="separator:a7f793891c78e2799bfa3ba8ca2490ca2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a688267387c8d8bbfee8507d228296133"><td class="memItemLeft" align="right" valign="top"><a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a688267387c8d8bbfee8507d228296133">m_max_index</a></td></tr>
<tr class="separator:a688267387c8d8bbfee8507d228296133"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20a14f648ce5e2778009a7154f1493bd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a20a14f648ce5e2778009a7154f1493bd">m_reduced_max_indicies</a></td></tr>
<tr class="memdesc:a20a14f648ce5e2778009a7154f1493bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Local array to hold max indicies.  <a href="#a20a14f648ce5e2778009a7154f1493bd">More...</a><br /></td></tr>
<tr class="separator:a20a14f648ce5e2778009a7154f1493bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_attribs_classlbann_1_1target__layer"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_classlbann_1_1target__layer')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="classlbann_1_1target__layer.html">lbann::target_layer</a></td></tr>
<tr class="memitem:ad19d7a3ed9687a2b52e05fcc99dd51f7 inherit pub_attribs_classlbann_1_1target__layer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlbann_1_1DataReader.html">DataReader</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1target__layer.html#ad19d7a3ed9687a2b52e05fcc99dd51f7">m_training_data_reader</a></td></tr>
<tr class="separator:ad19d7a3ed9687a2b52e05fcc99dd51f7 inherit pub_attribs_classlbann_1_1target__layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c72c9c780cc29da6db5121da085e7d2 inherit pub_attribs_classlbann_1_1target__layer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlbann_1_1DataReader.html">DataReader</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1target__layer.html#a1c72c9c780cc29da6db5121da085e7d2">m_testing_data_reader</a></td></tr>
<tr class="separator:a1c72c9c780cc29da6db5121da085e7d2 inherit pub_attribs_classlbann_1_1target__layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a576266beaf97c614d8f5f3a3ae005b0d inherit pub_attribs_classlbann_1_1target__layer"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1target__layer.html#a576266beaf97c614d8f5f3a3ae005b0d">m_shared_data_reader</a></td></tr>
<tr class="separator:a576266beaf97c614d8f5f3a3ae005b0d inherit pub_attribs_classlbann_1_1target__layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39a853fb6543a06321e00a07242dce72 inherit pub_attribs_classlbann_1_1target__layer"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1target__layer.html#a39a853fb6543a06321e00a07242dce72">m_num_training_samples_processed</a></td></tr>
<tr class="separator:a39a853fb6543a06321e00a07242dce72 inherit pub_attribs_classlbann_1_1target__layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee525ca79f05ae3a0842fc7679d6247d inherit pub_attribs_classlbann_1_1target__layer"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1target__layer.html#aee525ca79f05ae3a0842fc7679d6247d">m_total_training_samples</a></td></tr>
<tr class="separator:aee525ca79f05ae3a0842fc7679d6247d inherit pub_attribs_classlbann_1_1target__layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1247151a609b4d8df9ebbcb993f3c76 inherit pub_attribs_classlbann_1_1target__layer"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1target__layer.html#ad1247151a609b4d8df9ebbcb993f3c76">m_num_testing_samples_processed</a></td></tr>
<tr class="separator:ad1247151a609b4d8df9ebbcb993f3c76 inherit pub_attribs_classlbann_1_1target__layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a794c903cf4b5a0c36dbbf4ed0c7dc31f inherit pub_attribs_classlbann_1_1target__layer"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1target__layer.html#a794c903cf4b5a0c36dbbf4ed0c7dc31f">m_total_testing_samples</a></td></tr>
<tr class="separator:a794c903cf4b5a0c36dbbf4ed0c7dc31f inherit pub_attribs_classlbann_1_1target__layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_attribs_classlbann_1_1Layer"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_classlbann_1_1Layer')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="classlbann_1_1Layer.html">lbann::Layer</a></td></tr>
<tr class="memitem:a5d76fcdf50d7ac4fb2fe757fb0cc23d8 inherit pub_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="datatype_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a5d76fcdf50d7ac4fb2fe757fb0cc23d8">Index</a></td></tr>
<tr class="separator:a5d76fcdf50d7ac4fb2fe757fb0cc23d8 inherit pub_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d4a379d5c9e1102e63b48c53dd8ed44 inherit pub_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="datatype_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a9d4a379d5c9e1102e63b48c53dd8ed44">NumNeurons</a></td></tr>
<tr class="separator:a9d4a379d5c9e1102e63b48c53dd8ed44 inherit pub_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8b115cb89d6e8081de3f148a8ad2ef7 inherit pub_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="lbann__base_8hpp.html#a2781a159088df64ed7d47cc91c4dc0a8">execution_mode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#af8b115cb89d6e8081de3f148a8ad2ef7">m_execution_mode</a></td></tr>
<tr class="separator:af8b115cb89d6e8081de3f148a8ad2ef7 inherit pub_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb8f49938650995031405a6ecf8f7f93 inherit pub_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="lbann__base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#acb8f49938650995031405a6ecf8f7f93">WB</a></td></tr>
<tr class="separator:acb8f49938650995031405a6ecf8f7f93 inherit pub_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94b994fd7f434636d0c73190f6209bf9 inherit pub_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="lbann__base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a94b994fd7f434636d0c73190f6209bf9">WB_D</a></td></tr>
<tr class="separator:a94b994fd7f434636d0c73190f6209bf9 inherit pub_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdd2a4f80fa9e5e4b1cde103eefeaeac inherit pub_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="lbann__base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#abdd2a4f80fa9e5e4b1cde103eefeaeac">Zs</a></td></tr>
<tr class="separator:abdd2a4f80fa9e5e4b1cde103eefeaeac inherit pub_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70b6c950580125b311216d7402d57f56 inherit pub_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="lbann__base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a70b6c950580125b311216d7402d57f56">Ds</a></td></tr>
<tr class="separator:a70b6c950580125b311216d7402d57f56 inherit pub_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34f5517610ada7dd06205cb97d97b369 inherit pub_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="lbann__base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a34f5517610ada7dd06205cb97d97b369">Ds_Temp</a></td></tr>
<tr class="separator:a34f5517610ada7dd06205cb97d97b369 inherit pub_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d09f81cc2d47264a38b7eecab9d7307 inherit pub_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="lbann__base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a1d09f81cc2d47264a38b7eecab9d7307">Acts</a></td></tr>
<tr class="separator:a1d09f81cc2d47264a38b7eecab9d7307 inherit pub_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5caea149f8ecebff4b77efd1248b8267 inherit pub_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlbann_1_1Optimizer.html">Optimizer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a5caea149f8ecebff4b77efd1248b8267">optimizer</a></td></tr>
<tr class="separator:a5caea149f8ecebff4b77efd1248b8267 inherit pub_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4f7b14ea6448703edc07ae4e43cb20a inherit pub_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="lbann__base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#aa4f7b14ea6448703edc07ae4e43cb20a">fp_input</a></td></tr>
<tr class="separator:aa4f7b14ea6448703edc07ae4e43cb20a inherit pub_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8ec7fc7bd902123d7b7788b6284ca62 inherit pub_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="lbann__base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#ab8ec7fc7bd902123d7b7788b6284ca62">bp_input</a></td></tr>
<tr class="separator:ab8ec7fc7bd902123d7b7788b6284ca62 inherit pub_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad20dd05617ed950162e0fdb95bc23096 inherit pub_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlbann_1_1lbann__comm.html">lbann_comm</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#ad20dd05617ed950162e0fdb95bc23096">comm</a></td></tr>
<tr class="separator:ad20dd05617ed950162e0fdb95bc23096 inherit pub_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_attribs_classlbann_1_1distributed__minibatch__parallel__io"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_classlbann_1_1distributed__minibatch__parallel__io')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="classlbann_1_1distributed__minibatch__parallel__io.html">lbann::distributed_minibatch_parallel_io</a></td></tr>
<tr class="memitem:a651f8eab68ea1ca97a9689b372d93293 inherit pub_attribs_classlbann_1_1distributed__minibatch__parallel__io"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlbann_1_1lbann__comm.html">lbann_comm</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1distributed__minibatch__parallel__io.html#a651f8eab68ea1ca97a9689b372d93293">comm</a></td></tr>
<tr class="separator:a651f8eab68ea1ca97a9689b372d93293 inherit pub_attribs_classlbann_1_1distributed__minibatch__parallel__io"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ccc275f90122c59f3eb966402f521fc inherit pub_attribs_classlbann_1_1distributed__minibatch__parallel__io"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1distributed__minibatch__parallel__io.html#a3ccc275f90122c59f3eb966402f521fc">m_root</a></td></tr>
<tr class="separator:a3ccc275f90122c59f3eb966402f521fc inherit pub_attribs_classlbann_1_1distributed__minibatch__parallel__io"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd4635e8e81acf72e9164d91fb3209ef inherit pub_attribs_classlbann_1_1distributed__minibatch__parallel__io"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1distributed__minibatch__parallel__io.html#afd4635e8e81acf72e9164d91fb3209ef">m_num_parallel_readers_training</a></td></tr>
<tr class="separator:afd4635e8e81acf72e9164d91fb3209ef inherit pub_attribs_classlbann_1_1distributed__minibatch__parallel__io"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa27d55e192717c28ce6785411585e60a inherit pub_attribs_classlbann_1_1distributed__minibatch__parallel__io"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1distributed__minibatch__parallel__io.html#aa27d55e192717c28ce6785411585e60a">m_num_parallel_readers_testing</a></td></tr>
<tr class="separator:aa27d55e192717c28ce6785411585e60a inherit pub_attribs_classlbann_1_1distributed__minibatch__parallel__io"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6be7e7aad366708899a949813dc2554f inherit pub_attribs_classlbann_1_1distributed__minibatch__parallel__io"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1distributed__minibatch__parallel__io.html#a6be7e7aad366708899a949813dc2554f">m_local_reader_done</a></td></tr>
<tr class="separator:a6be7e7aad366708899a949813dc2554f inherit pub_attribs_classlbann_1_1distributed__minibatch__parallel__io"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa90a4f8da078c11f4953f76092d472de inherit pub_attribs_classlbann_1_1distributed__minibatch__parallel__io"><td class="memItemLeft" align="right" valign="top"><a class="el" href="datatype_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1distributed__minibatch__parallel__io.html#aa90a4f8da078c11f4953f76092d472de">m_mini_batch_size</a></td></tr>
<tr class="separator:aa90a4f8da078c11f4953f76092d472de inherit pub_attribs_classlbann_1_1distributed__minibatch__parallel__io"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39cc10542de6a808b578460b2a76475c inherit pub_attribs_classlbann_1_1distributed__minibatch__parallel__io"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1distributed__minibatch__parallel__io.html#a39cc10542de6a808b578460b2a76475c">m_local_data_valid</a></td></tr>
<tr class="separator:a39cc10542de6a808b578460b2a76475c inherit pub_attribs_classlbann_1_1distributed__minibatch__parallel__io"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa595846c85d451799e44d58b8203192d inherit pub_attribs_classlbann_1_1distributed__minibatch__parallel__io"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1distributed__minibatch__parallel__io.html#aa595846c85d451799e44d58b8203192d">m_num_data_per_epoch</a></td></tr>
<tr class="separator:aa595846c85d451799e44d58b8203192d inherit pub_attribs_classlbann_1_1distributed__minibatch__parallel__io"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a8001220957e42369e550b54057542933"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a8001220957e42369e550b54057542933">fp_linearity</a> (<a class="el" href="lbann__base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> &amp;, <a class="el" href="lbann__base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> &amp;, <a class="el" href="lbann__base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> &amp;, <a class="el" href="lbann__base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> &amp;)</td></tr>
<tr class="memdesc:a8001220957e42369e550b54057542933"><td class="mdescLeft">&#160;</td><td class="mdescRight">Local array to build global view of maximum indicies.  <a href="#a8001220957e42369e550b54057542933">More...</a><br /></td></tr>
<tr class="separator:a8001220957e42369e550b54057542933"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25d3a49456e01d0486836f6319386cdb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a25d3a49456e01d0486836f6319386cdb">bp_linearity</a> ()</td></tr>
<tr class="separator:a25d3a49456e01d0486836f6319386cdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classlbann_1_1Layer"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classlbann_1_1Layer')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classlbann_1_1Layer.html">lbann::Layer</a></td></tr>
<tr class="memitem:abf5b4f7c1143e1035567ff7c2ce622b6 inherit pro_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#abf5b4f7c1143e1035567ff7c2ce622b6">fp_nonlinearity</a> ()</td></tr>
<tr class="separator:abf5b4f7c1143e1035567ff7c2ce622b6 inherit pro_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0ac1ce91edf1fa3718e7f7bf0448664 inherit pro_methods_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#af0ac1ce91edf1fa3718e7f7bf0448664">bp_nonlinearity</a> ()</td></tr>
<tr class="separator:af0ac1ce91edf1fa3718e7f7bf0448664 inherit pro_methods_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_classlbann_1_1Layer"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classlbann_1_1Layer')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classlbann_1_1Layer.html">lbann::Layer</a></td></tr>
<tr class="memitem:a9989c75430678d69efc2794ed40693b3 inherit pro_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classlbann_1_1regularizer.html">regularizer</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a9989c75430678d69efc2794ed40693b3">regularizers</a></td></tr>
<tr class="separator:a9989c75430678d69efc2794ed40693b3 inherit pro_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30aaa195765788f649ce70e855a74081 inherit pro_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="datatype_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a30aaa195765788f649ce70e855a74081">m_mini_batch_size</a></td></tr>
<tr class="separator:a30aaa195765788f649ce70e855a74081 inherit pro_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b07424032d1b3c4e3a1fae100aff5c5 inherit pro_attribs_classlbann_1_1Layer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="datatype_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1Layer.html#a8b07424032d1b3c4e3a1fae100aff5c5">m_effective_mbsize</a></td></tr>
<tr class="separator:a8b07424032d1b3c4e3a1fae100aff5c5 inherit pro_attribs_classlbann_1_1Layer"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8hpp_source.html#l00035">35</a> of file <a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8hpp_source.html">lbann_target_layer_distributed_minibatch_parallel_io.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a078396fa0761ed6ad0222932bd18e8d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lbann::target_layer_distributed_minibatch_parallel_io::target_layer_distributed_minibatch_parallel_io </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlbann_1_1lbann__comm.html">lbann_comm</a> *&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_parallel_readers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="datatype_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>mini_batch_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlbann_1_1DataReader.html">DataReader</a> *&#160;</td>
          <td class="paramname"><em>training_data_reader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlbann_1_1DataReader.html">DataReader</a> *&#160;</td>
          <td class="paramname"><em>testing_data_reader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>shared_data_reader</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8cpp_source.html#l00038">38</a> of file <a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8cpp_source.html">lbann_target_layer_distributed_minibatch_parallel_io.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  : <a class="code" href="classlbann_1_1target__layer.html#af2b2b61ede783cd14c7d13279351f738">target_layer</a>(<a class="code" href="classlbann_1_1distributed__minibatch__parallel__io.html#a651f8eab68ea1ca97a9689b372d93293">comm</a>, mini_batch_size, training_data_reader, testing_data_reader, shared_data_reader), </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <a class="code" href="classlbann_1_1distributed__minibatch__parallel__io.html#ab70e74051e0453f17db8c3f69876d03a">distributed_minibatch_parallel_io</a>(<a class="code" href="classlbann_1_1distributed__minibatch__parallel__io.html#a651f8eab68ea1ca97a9689b372d93293">comm</a>, num_parallel_readers, mini_batch_size, training_data_reader-&gt;getNumData(), testing_data_reader-&gt;getNumData()),</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <a class="code" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a0186b22a8ba21f0b09b3baf8415bd1c5">Ys</a>(<a class="code" href="classlbann_1_1distributed__minibatch__parallel__io.html#a651f8eab68ea1ca97a9689b372d93293">comm</a>-&gt;<a class="code" href="classlbann_1_1lbann__comm.html#a483bf8a72d44a0e83da45f3d47bd20d4">get_model_grid</a>()), <a class="code" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#ac924bdddbbacdf2f6fe89d407bace01d">YsColMax</a>(<a class="code" href="classlbann_1_1distributed__minibatch__parallel__io.html#a651f8eab68ea1ca97a9689b372d93293">comm</a>-&gt;<a class="code" href="classlbann_1_1lbann__comm.html#a483bf8a72d44a0e83da45f3d47bd20d4">get_model_grid</a>()), <a class="code" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a7f793891c78e2799bfa3ba8ca2490ca2">YsColMaxStar</a>(<a class="code" href="classlbann_1_1distributed__minibatch__parallel__io.html#a651f8eab68ea1ca97a9689b372d93293">comm</a>-&gt;<a class="code" href="classlbann_1_1lbann__comm.html#a483bf8a72d44a0e83da45f3d47bd20d4">get_model_grid</a>())</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;{</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <span class="comment">//  NumNeurons = m_training_data_reader-&gt;get_linearized_label_size(); /// @todo NumNeurons should be hidden inside of an accessor function</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1distributed__minibatch__parallel__io_html_ab70e74051e0453f17db8c3f69876d03a"><div class="ttname"><a href="classlbann_1_1distributed__minibatch__parallel__io.html#ab70e74051e0453f17db8c3f69876d03a">lbann::distributed_minibatch_parallel_io::distributed_minibatch_parallel_io</a></div><div class="ttdeci">distributed_minibatch_parallel_io(lbann_comm *comm, int num_parallel_readers, uint mini_batch_size, int training_data_set_size, int testing_data_set_size=0)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__distributed__minibatch__parallel__io_8cpp_source.html#l00034">lbann_distributed_minibatch_parallel_io.cpp:34</a></div></div>
<div class="ttc" id="classlbann_1_1target__layer__distributed__minibatch__parallel__io_html_ac924bdddbbacdf2f6fe89d407bace01d"><div class="ttname"><a href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#ac924bdddbbacdf2f6fe89d407bace01d">lbann::target_layer_distributed_minibatch_parallel_io::YsColMax</a></div><div class="ttdeci">ColSumMat YsColMax</div><div class="ttdef"><b>Definition:</b> <a href="lbann__target__layer__distributed__minibatch__parallel__io_8hpp_source.html#l00053">lbann_target_layer_distributed_minibatch_parallel_io.hpp:53</a></div></div>
<div class="ttc" id="classlbann_1_1target__layer__distributed__minibatch__parallel__io_html_a7f793891c78e2799bfa3ba8ca2490ca2"><div class="ttname"><a href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a7f793891c78e2799bfa3ba8ca2490ca2">lbann::target_layer_distributed_minibatch_parallel_io::YsColMaxStar</a></div><div class="ttdeci">StarMat YsColMaxStar</div><div class="ttdoc">Note that the column max matrix has the number of mini-batches on the rows instead of columns...</div><div class="ttdef"><b>Definition:</b> <a href="lbann__target__layer__distributed__minibatch__parallel__io_8hpp_source.html#l00054">lbann_target_layer_distributed_minibatch_parallel_io.hpp:54</a></div></div>
<div class="ttc" id="classlbann_1_1distributed__minibatch__parallel__io_html_a651f8eab68ea1ca97a9689b372d93293"><div class="ttname"><a href="classlbann_1_1distributed__minibatch__parallel__io.html#a651f8eab68ea1ca97a9689b372d93293">lbann::distributed_minibatch_parallel_io::comm</a></div><div class="ttdeci">lbann_comm * comm</div><div class="ttdef"><b>Definition:</b> <a href="lbann__distributed__minibatch__parallel__io_8hpp_source.html#l00055">lbann_distributed_minibatch_parallel_io.hpp:55</a></div></div>
<div class="ttc" id="classlbann_1_1target__layer__distributed__minibatch__parallel__io_html_a0186b22a8ba21f0b09b3baf8415bd1c5"><div class="ttname"><a href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a0186b22a8ba21f0b09b3baf8415bd1c5">lbann::target_layer_distributed_minibatch_parallel_io::Ys</a></div><div class="ttdeci">CircMat Ys</div><div class="ttdef"><b>Definition:</b> <a href="lbann__target__layer__distributed__minibatch__parallel__io_8hpp_source.html#l00052">lbann_target_layer_distributed_minibatch_parallel_io.hpp:52</a></div></div>
<div class="ttc" id="classlbann_1_1target__layer_html_af2b2b61ede783cd14c7d13279351f738"><div class="ttname"><a href="classlbann_1_1target__layer.html#af2b2b61ede783cd14c7d13279351f738">lbann::target_layer::target_layer</a></div><div class="ttdeci">target_layer(lbann_comm *comm, uint mini_batch_size, DataReader *training_data_reader, DataReader *testing_data_reader, bool shared_data_reader)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__target__layer_8cpp_source.html#l00037">lbann_target_layer.cpp:37</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a483bf8a72d44a0e83da45f3d47bd20d4"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a483bf8a72d44a0e83da45f3d47bd20d4">lbann::lbann_comm::get_model_grid</a></div><div class="ttdeci">Grid &amp; get_model_grid()</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00091">lbann_comm.hpp:91</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af23d08903051b59020a4b89566923964"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lbann::target_layer_distributed_minibatch_parallel_io::target_layer_distributed_minibatch_parallel_io </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlbann_1_1lbann__comm.html">lbann_comm</a> *&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_parallel_readers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="datatype_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>mini_batch_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlbann_1_1DataReader.html">DataReader</a> *&#160;</td>
          <td class="paramname"><em>training_data_reader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>shared_data_reader</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8cpp_source.html#l00046">46</a> of file <a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8cpp_source.html">lbann_target_layer_distributed_minibatch_parallel_io.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  : <a class="code" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a078396fa0761ed6ad0222932bd18e8d3">target_layer_distributed_minibatch_parallel_io</a>(<a class="code" href="classlbann_1_1distributed__minibatch__parallel__io.html#a651f8eab68ea1ca97a9689b372d93293">comm</a>, num_parallel_readers, mini_batch_size, training_data_reader, <a class="code" href="datatype_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, shared_data_reader)</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;{</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1distributed__minibatch__parallel__io_html_a651f8eab68ea1ca97a9689b372d93293"><div class="ttname"><a href="classlbann_1_1distributed__minibatch__parallel__io.html#a651f8eab68ea1ca97a9689b372d93293">lbann::distributed_minibatch_parallel_io::comm</a></div><div class="ttdeci">lbann_comm * comm</div><div class="ttdef"><b>Definition:</b> <a href="lbann__distributed__minibatch__parallel__io_8hpp_source.html#l00055">lbann_distributed_minibatch_parallel_io.hpp:55</a></div></div>
<div class="ttc" id="datatype_8hpp_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="datatype_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="datatype_8hpp_source.html#l00035">datatype.hpp:35</a></div></div>
<div class="ttc" id="classlbann_1_1target__layer__distributed__minibatch__parallel__io_html_a078396fa0761ed6ad0222932bd18e8d3"><div class="ttname"><a href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a078396fa0761ed6ad0222932bd18e8d3">lbann::target_layer_distributed_minibatch_parallel_io::target_layer_distributed_minibatch_parallel_io</a></div><div class="ttdeci">target_layer_distributed_minibatch_parallel_io(lbann_comm *comm, int num_parallel_readers, uint mini_batch_size, DataReader *training_data_reader, DataReader *testing_data_reader, bool shared_data_reader)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__target__layer__distributed__minibatch__parallel__io_8cpp_source.html#l00038">lbann_target_layer_distributed_minibatch_parallel_io.cpp:38</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a2ffccd98d1761568c39b998be7c70972"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::target_layer_distributed_minibatch_parallel_io::backProp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Copy the results to the Ds_Temp variable for access by the next lower layer </p>

<p>Reimplemented from <a class="el" href="classlbann_1_1Layer.html#a07f230d516c76f22ff42addb542424af">lbann::Layer</a>.</p>

<p>Definition at line <a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8cpp_source.html#l00135">135</a> of file <a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8cpp_source.html">lbann_target_layer_distributed_minibatch_parallel_io.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                                                                   {</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  Copy(<a class="code" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a0186b22a8ba21f0b09b3baf8415bd1c5">Ys</a>, *<a class="code" href="classlbann_1_1Layer.html#a34f5517610ada7dd06205cb97d97b369">Ds_Temp</a>);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1Layer_html_a34f5517610ada7dd06205cb97d97b369"><div class="ttname"><a href="classlbann_1_1Layer.html#a34f5517610ada7dd06205cb97d97b369">lbann::Layer::Ds_Temp</a></div><div class="ttdeci">ElMat * Ds_Temp</div><div class="ttdef"><b>Definition:</b> <a href="lbann__layer_8hpp_source.html#l00123">lbann_layer.hpp:123</a></div></div>
<div class="ttc" id="classlbann_1_1target__layer__distributed__minibatch__parallel__io_html_a0186b22a8ba21f0b09b3baf8415bd1c5"><div class="ttname"><a href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a0186b22a8ba21f0b09b3baf8415bd1c5">lbann::target_layer_distributed_minibatch_parallel_io::Ys</a></div><div class="ttdeci">CircMat Ys</div><div class="ttdef"><b>Definition:</b> <a href="lbann__target__layer__distributed__minibatch__parallel__io_8hpp_source.html#l00052">lbann_target_layer_distributed_minibatch_parallel_io.hpp:52</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a25d3a49456e01d0486836f6319386cdb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::target_layer_distributed_minibatch_parallel_io::bp_linearity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Handle the layer's linearity in backward propagation. </p>

<p>Reimplemented from <a class="el" href="classlbann_1_1Layer.html#a3cadcd93ddac0f0231449181a72edf1b">lbann::Layer</a>.</p>

<p>Definition at line <a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8hpp_source.html#l00060">60</a> of file <a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8hpp_source.html">lbann_target_layer_distributed_minibatch_parallel_io.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;{}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac848395e55b96cf53462d67efc42efb9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lbann::target_layer_distributed_minibatch_parallel_io::fetch_from_data_reader </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;&#160;</td>
          <td class="paramname"><em>M_local</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classlbann_1_1distributed__minibatch__parallel__io.html#aa62a8e46c053771fe20831f81aeb0a25">lbann::distributed_minibatch_parallel_io</a>.</p>

<p>Definition at line <a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8cpp_source.html#l00147">147</a> of file <a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8cpp_source.html">lbann_target_layer_distributed_minibatch_parallel_io.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                                                                                            {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  DataReader *data_reader = <a class="code" href="classlbann_1_1target__layer.html#abf3c3f3037ddff8619012dbd0f8027ca">target_layer::select_data_reader</a>();</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="keywordflow">return</span> data_reader-&gt;fetch_label(M_local);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1target__layer_html_abf3c3f3037ddff8619012dbd0f8027ca"><div class="ttname"><a href="classlbann_1_1target__layer.html#abf3c3f3037ddff8619012dbd0f8027ca">lbann::target_layer::select_data_reader</a></div><div class="ttdeci">DataReader * select_data_reader()</div><div class="ttdef"><b>Definition:</b> <a href="lbann__target__layer_8cpp_source.html#l00077">lbann_target_layer.cpp:77</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1target__layer__distributed__minibatch__parallel__io_ac848395e55b96cf53462d67efc42efb9_cgraph.png" border="0" usemap="#classlbann_1_1target__layer__distributed__minibatch__parallel__io_ac848395e55b96cf53462d67efc42efb9_cgraph" alt=""/></div>
<map name="classlbann_1_1target__layer__distributed__minibatch__parallel__io_ac848395e55b96cf53462d67efc42efb9_cgraph" id="classlbann_1_1target__layer__distributed__minibatch__parallel__io_ac848395e55b96cf53462d67efc42efb9_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1target__layer.html#abf3c3f3037ddff8619012dbd0f8027ca" title="lbann::target_layer\l::select_data_reader" alt="" coords="213,5,356,44"/><area shape="rect" id="node3" href="classlbann_1_1DataReader.html#ab9f0bd6994c5f78b5ea89c9af00fefaf" title="lbann::DataReader::\lfetch_label" alt="" coords="214,68,355,107"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a14c4106696d7ae83784b22de93a46e0a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a> lbann::target_layer_distributed_minibatch_parallel_io::forwardProp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a>&#160;</td>
          <td class="paramname"><em>prev_WBL2NormSum</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Compute the error between the previous layers activations and the ground truth</p>
<p>For each minibatch (column) find the maximimum value</p>
<p>Give every rank a copy so that they can find the max index locally</p>
<p>Find which rank holds the index for the maxmimum value</p>
<p>For each sample in mini-batch that this rank has</p>
<p>For each feature</p>
<p>Merge all of the local index sets into a common buffer, if there are two potential maximum values, highest index wins</p>
<p>Check to see if the predicted results match the target results</p>
<p>Allow the current root to compute the errors, since it has the data locally</p>
<p>For each sample in mini-batch </p>

<p>Reimplemented from <a class="el" href="classlbann_1_1Layer.html#a9bc5072a0c4105cce6f3526845abd07f">lbann::Layer</a>.</p>

<p>Definition at line <a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8cpp_source.html#l00084">84</a> of file <a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8cpp_source.html">lbann_target_layer_distributed_minibatch_parallel_io.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                                                                                                   {</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="keywordtype">int</span> num_samples_in_batch = <a class="code" href="classlbann_1_1distributed__minibatch__parallel__io.html#ad5cc95374bcb47c97105b387950ca8e1">fetch_to_local_matrix</a>(<a class="code" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#adb060d52e4e5241d9e1efb2e425647d2">Y_local</a>);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <a class="code" href="classlbann_1_1target__layer.html#a50927ad4992f89e897c710f13d5db4e9">target_layer::update_num_samples_processed</a>(num_samples_in_batch);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <a class="code" href="namespaceEl.html#ad8ea8f79baf4462c053311768e96cf6e">ColumnMax</a>((<a class="code" href="lbann__base_8hpp.html#a270ddda44ad6a3abd3cfe8358cf581e6">DistMat</a>) *<a class="code" href="classlbann_1_1Layer.html#aa4f7b14ea6448703edc07ae4e43cb20a">fp_input</a>, <a class="code" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#ac924bdddbbacdf2f6fe89d407bace01d">YsColMax</a>); </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  Copy(<a class="code" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#ac924bdddbbacdf2f6fe89d407bace01d">YsColMax</a>, <a class="code" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a7f793891c78e2799bfa3ba8ca2490ca2">YsColMaxStar</a>); </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  Zeros(<a class="code" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a688267387c8d8bbfee8507d228296133">m_max_index</a>, <a class="code" href="classlbann_1_1Layer.html#a30aaa195765788f649ce70e855a74081">Layer::m_mini_batch_size</a>, 1);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> mb_index= 0; mb_index &lt; <a class="code" href="classlbann_1_1Layer.html#aa4f7b14ea6448703edc07ae4e43cb20a">fp_input</a>-&gt;LocalWidth(); mb_index++) { </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordtype">int</span> mb_global_index = <a class="code" href="classlbann_1_1Layer.html#aa4f7b14ea6448703edc07ae4e43cb20a">fp_input</a>-&gt;GlobalCol(mb_index);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <a class="code" href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a> sample_max = <a class="code" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a7f793891c78e2799bfa3ba8ca2490ca2">YsColMaxStar</a>.GetLocal(mb_global_index, 0);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> f_index = 0; f_index &lt; <a class="code" href="classlbann_1_1Layer.html#aa4f7b14ea6448703edc07ae4e43cb20a">fp_input</a>-&gt;LocalHeight(); f_index++) { </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1Layer.html#aa4f7b14ea6448703edc07ae4e43cb20a">fp_input</a>-&gt;GetLocal(f_index, mb_index) == sample_max) {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <a class="code" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a688267387c8d8bbfee8507d228296133">m_max_index</a>.Set(mb_global_index, 0, <a class="code" href="classlbann_1_1Layer.html#aa4f7b14ea6448703edc07ae4e43cb20a">fp_input</a>-&gt;GlobalRow(f_index));</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      }</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    }</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  }</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  Zeros(<a class="code" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a20a14f648ce5e2778009a7154f1493bd">m_reduced_max_indicies</a>, <a class="code" href="classlbann_1_1Layer.html#a30aaa195765788f649ce70e855a74081">Layer::m_mini_batch_size</a>, 1);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <a class="code" href="classlbann_1_1Layer.html#ad20dd05617ed950162e0fdb95bc23096">Layer::comm</a>-&gt;<a class="code" href="classlbann_1_1lbann__comm.html#ab2bc3d526045ba1b5fedcd442b58a8f9">model_allreduce</a>(<a class="code" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a688267387c8d8bbfee8507d228296133">m_max_index</a>.Buffer(), <a class="code" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a688267387c8d8bbfee8507d228296133">m_max_index</a>.Height() * <a class="code" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a688267387c8d8bbfee8507d228296133">m_max_index</a>.Width(), <a class="code" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a20a14f648ce5e2778009a7154f1493bd">m_reduced_max_indicies</a>.Buffer(), mpi::MAX);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="keywordtype">int</span> num_errors = 0;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1distributed__minibatch__parallel__io.html#a1a1c8e6038e112145fa6eaf37e6cb3d4">is_current_root</a>()) {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> mb_index= 0; mb_index &lt; <a class="code" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#adb060d52e4e5241d9e1efb2e425647d2">Y_local</a>.Width(); mb_index++) { </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      <span class="keywordtype">int</span> targetidx = -1;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      <span class="keywordtype">float</span> targetmax = 0;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> f_index= 0; f_index &lt; <a class="code" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#adb060d52e4e5241d9e1efb2e425647d2">Y_local</a>.Height(); f_index++) {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="keywordflow">if</span> (targetmax &lt; <a class="code" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#adb060d52e4e5241d9e1efb2e425647d2">Y_local</a>.Get(f_index, mb_index)) {</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;          targetmax = <a class="code" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#adb060d52e4e5241d9e1efb2e425647d2">Y_local</a>.Get(f_index, mb_index);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;          targetidx = f_index;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        }</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      }</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a20a14f648ce5e2778009a7154f1493bd">m_reduced_max_indicies</a>.Get(mb_index, 0) != targetidx) {</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        num_errors++;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;      }</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    }</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  }</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  num_errors = <a class="code" href="classlbann_1_1Layer.html#ad20dd05617ed950162e0fdb95bc23096">Layer::comm</a>-&gt;<a class="code" href="classlbann_1_1lbann__comm.html#a929f44a9a9563ae9e4ffe7d44235a195">model_broadcast</a>(<a class="code" href="classlbann_1_1distributed__minibatch__parallel__io.html#a3ccc275f90122c59f3eb966402f521fc">m_root</a>, num_errors);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <a class="code" href="classlbann_1_1distributed__minibatch__parallel__io.html#ac5d6b3b6740f91ef083eeac3cc52c10a">distribute_from_local_matrix</a>(<a class="code" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#adb060d52e4e5241d9e1efb2e425647d2">Y_local</a>, <a class="code" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a0186b22a8ba21f0b09b3baf8415bd1c5">Ys</a>);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="keywordflow">return</span> num_errors;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1target__layer__distributed__minibatch__parallel__io_html_a20a14f648ce5e2778009a7154f1493bd"><div class="ttname"><a href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a20a14f648ce5e2778009a7154f1493bd">lbann::target_layer_distributed_minibatch_parallel_io::m_reduced_max_indicies</a></div><div class="ttdeci">Mat m_reduced_max_indicies</div><div class="ttdoc">Local array to hold max indicies. </div><div class="ttdef"><b>Definition:</b> <a href="lbann__target__layer__distributed__minibatch__parallel__io_8hpp_source.html#l00056">lbann_target_layer_distributed_minibatch_parallel_io.hpp:56</a></div></div>
<div class="ttc" id="classlbann_1_1distributed__minibatch__parallel__io_html_ac5d6b3b6740f91ef083eeac3cc52c10a"><div class="ttname"><a href="classlbann_1_1distributed__minibatch__parallel__io.html#ac5d6b3b6740f91ef083eeac3cc52c10a">lbann::distributed_minibatch_parallel_io::distribute_from_local_matrix</a></div><div class="ttdeci">void distribute_from_local_matrix(Mat &amp;M_local, CircMat &amp;Ms)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__distributed__minibatch__parallel__io_8cpp_source.html#l00100">lbann_distributed_minibatch_parallel_io.cpp:100</a></div></div>
<div class="ttc" id="classlbann_1_1target__layer__distributed__minibatch__parallel__io_html_a688267387c8d8bbfee8507d228296133"><div class="ttname"><a href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a688267387c8d8bbfee8507d228296133">lbann::target_layer_distributed_minibatch_parallel_io::m_max_index</a></div><div class="ttdeci">Mat m_max_index</div><div class="ttdef"><b>Definition:</b> <a href="lbann__target__layer__distributed__minibatch__parallel__io_8hpp_source.html#l00055">lbann_target_layer_distributed_minibatch_parallel_io.hpp:55</a></div></div>
<div class="ttc" id="namespaceEl_html_ad8ea8f79baf4462c053311768e96cf6e"><div class="ttname"><a href="namespaceEl.html#ad8ea8f79baf4462c053311768e96cf6e">El::ColumnMax</a></div><div class="ttdeci">void ColumnMax(const Matrix&lt; F &gt; &amp;X, Matrix&lt; Base&lt; F &gt;&gt; &amp;norms)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__Elemental__extensions_8cpp_source.html#l00093">lbann_Elemental_extensions.cpp:93</a></div></div>
<div class="ttc" id="classlbann_1_1distributed__minibatch__parallel__io_html_a1a1c8e6038e112145fa6eaf37e6cb3d4"><div class="ttname"><a href="classlbann_1_1distributed__minibatch__parallel__io.html#a1a1c8e6038e112145fa6eaf37e6cb3d4">lbann::distributed_minibatch_parallel_io::is_current_root</a></div><div class="ttdeci">bool is_current_root()</div><div class="ttdoc">Is this rank the current root node for the Elemental Distribution. </div><div class="ttdef"><b>Definition:</b> <a href="lbann__distributed__minibatch__parallel__io_8hpp_source.html#l00052">lbann_distributed_minibatch_parallel_io.hpp:52</a></div></div>
<div class="ttc" id="classlbann_1_1target__layer__distributed__minibatch__parallel__io_html_ac924bdddbbacdf2f6fe89d407bace01d"><div class="ttname"><a href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#ac924bdddbbacdf2f6fe89d407bace01d">lbann::target_layer_distributed_minibatch_parallel_io::YsColMax</a></div><div class="ttdeci">ColSumMat YsColMax</div><div class="ttdef"><b>Definition:</b> <a href="lbann__target__layer__distributed__minibatch__parallel__io_8hpp_source.html#l00053">lbann_target_layer_distributed_minibatch_parallel_io.hpp:53</a></div></div>
<div class="ttc" id="classlbann_1_1target__layer__distributed__minibatch__parallel__io_html_a7f793891c78e2799bfa3ba8ca2490ca2"><div class="ttname"><a href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a7f793891c78e2799bfa3ba8ca2490ca2">lbann::target_layer_distributed_minibatch_parallel_io::YsColMaxStar</a></div><div class="ttdeci">StarMat YsColMaxStar</div><div class="ttdoc">Note that the column max matrix has the number of mini-batches on the rows instead of columns...</div><div class="ttdef"><b>Definition:</b> <a href="lbann__target__layer__distributed__minibatch__parallel__io_8hpp_source.html#l00054">lbann_target_layer_distributed_minibatch_parallel_io.hpp:54</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_aa4f7b14ea6448703edc07ae4e43cb20a"><div class="ttname"><a href="classlbann_1_1Layer.html#aa4f7b14ea6448703edc07ae4e43cb20a">lbann::Layer::fp_input</a></div><div class="ttdeci">ElMat * fp_input</div><div class="ttdef"><b>Definition:</b> <a href="lbann__layer_8hpp_source.html#l00128">lbann_layer.hpp:128</a></div></div>
<div class="ttc" id="lbann__base_8hpp_html_a270ddda44ad6a3abd3cfe8358cf581e6"><div class="ttname"><a href="lbann__base_8hpp.html#a270ddda44ad6a3abd3cfe8358cf581e6">DistMat</a></div><div class="ttdeci">El::DistMatrix&lt; DataType &gt; DistMat</div><div class="ttdef"><b>Definition:</b> <a href="lbann__base_8hpp_source.html#l00042">lbann_base.hpp:42</a></div></div>
<div class="ttc" id="classlbann_1_1target__layer__distributed__minibatch__parallel__io_html_adb060d52e4e5241d9e1efb2e425647d2"><div class="ttname"><a href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#adb060d52e4e5241d9e1efb2e425647d2">lbann::target_layer_distributed_minibatch_parallel_io::Y_local</a></div><div class="ttdeci">Mat Y_local</div><div class="ttdef"><b>Definition:</b> <a href="lbann__target__layer__distributed__minibatch__parallel__io_8hpp_source.html#l00051">lbann_target_layer_distributed_minibatch_parallel_io.hpp:51</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a30aaa195765788f649ce70e855a74081"><div class="ttname"><a href="classlbann_1_1Layer.html#a30aaa195765788f649ce70e855a74081">lbann::Layer::m_mini_batch_size</a></div><div class="ttdeci">uint m_mini_batch_size</div><div class="ttdef"><b>Definition:</b> <a href="lbann__layer_8hpp_source.html#l00145">lbann_layer.hpp:145</a></div></div>
<div class="ttc" id="classlbann_1_1target__layer__distributed__minibatch__parallel__io_html_a0186b22a8ba21f0b09b3baf8415bd1c5"><div class="ttname"><a href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a0186b22a8ba21f0b09b3baf8415bd1c5">lbann::target_layer_distributed_minibatch_parallel_io::Ys</a></div><div class="ttdeci">CircMat Ys</div><div class="ttdef"><b>Definition:</b> <a href="lbann__target__layer__distributed__minibatch__parallel__io_8hpp_source.html#l00052">lbann_target_layer_distributed_minibatch_parallel_io.hpp:52</a></div></div>
<div class="ttc" id="classlbann_1_1distributed__minibatch__parallel__io_html_ad5cc95374bcb47c97105b387950ca8e1"><div class="ttname"><a href="classlbann_1_1distributed__minibatch__parallel__io.html#ad5cc95374bcb47c97105b387950ca8e1">lbann::distributed_minibatch_parallel_io::fetch_to_local_matrix</a></div><div class="ttdeci">int fetch_to_local_matrix(Mat &amp;M_local)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__distributed__minibatch__parallel__io_8cpp_source.html#l00076">lbann_distributed_minibatch_parallel_io.cpp:76</a></div></div>
<div class="ttc" id="classlbann_1_1distributed__minibatch__parallel__io_html_a3ccc275f90122c59f3eb966402f521fc"><div class="ttname"><a href="classlbann_1_1distributed__minibatch__parallel__io.html#a3ccc275f90122c59f3eb966402f521fc">lbann::distributed_minibatch_parallel_io::m_root</a></div><div class="ttdeci">int m_root</div><div class="ttdef"><b>Definition:</b> <a href="lbann__distributed__minibatch__parallel__io_8hpp_source.html#l00056">lbann_distributed_minibatch_parallel_io.hpp:56</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_ab2bc3d526045ba1b5fedcd442b58a8f9"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#ab2bc3d526045ba1b5fedcd442b58a8f9">lbann::lbann_comm::model_allreduce</a></div><div class="ttdeci">T model_allreduce(T send, mpi::Op op=mpi::SUM)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00194">lbann_comm.hpp:194</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__comm_html_a929f44a9a9563ae9e4ffe7d44235a195"><div class="ttname"><a href="classlbann_1_1lbann__comm.html#a929f44a9a9563ae9e4ffe7d44235a195">lbann::lbann_comm::model_broadcast</a></div><div class="ttdeci">T model_broadcast(int root, T val={})</div><div class="ttdef"><b>Definition:</b> <a href="lbann__comm_8hpp_source.html#l00129">lbann_comm.hpp:129</a></div></div>
<div class="ttc" id="lbann__base_8hpp_html_a279b64f47fb2213ad73e59be937afcfa"><div class="ttname"><a href="lbann__base_8hpp.html#a279b64f47fb2213ad73e59be937afcfa">DataType</a></div><div class="ttdeci">float DataType</div><div class="ttdef"><b>Definition:</b> <a href="lbann__base_8hpp_source.html#l00035">lbann_base.hpp:35</a></div></div>
<div class="ttc" id="classlbann_1_1target__layer_html_a50927ad4992f89e897c710f13d5db4e9"><div class="ttname"><a href="classlbann_1_1target__layer.html#a50927ad4992f89e897c710f13d5db4e9">lbann::target_layer::update_num_samples_processed</a></div><div class="ttdeci">long update_num_samples_processed(long num_samples)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__target__layer_8cpp_source.html#l00114">lbann_target_layer.cpp:114</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_ad20dd05617ed950162e0fdb95bc23096"><div class="ttname"><a href="classlbann_1_1Layer.html#ad20dd05617ed950162e0fdb95bc23096">lbann::Layer::comm</a></div><div class="ttdeci">lbann_comm * comm</div><div class="ttdef"><b>Definition:</b> <a href="lbann__layer_8hpp_source.html#l00131">lbann_layer.hpp:131</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1target__layer__distributed__minibatch__parallel__io_a14c4106696d7ae83784b22de93a46e0a_cgraph.png" border="0" usemap="#classlbann_1_1target__layer__distributed__minibatch__parallel__io_a14c4106696d7ae83784b22de93a46e0a_cgraph" alt=""/></div>
<map name="classlbann_1_1target__layer__distributed__minibatch__parallel__io_a14c4106696d7ae83784b22de93a46e0a_cgraph" id="classlbann_1_1target__layer__distributed__minibatch__parallel__io_a14c4106696d7ae83784b22de93a46e0a_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1target__layer.html#a50927ad4992f89e897c710f13d5db4e9" title="lbann::target_layer\l::update_num_samples\l_processed" alt="" coords="223,5,383,57"/><area shape="rect" id="node3" href="namespaceEl.html#ad8ea8f79baf4462c053311768e96cf6e" title="El::ColumnMax" alt="" coords="247,81,359,107"/><area shape="rect" id="node4" href="classlbann_1_1lbann__comm.html#ab2bc3d526045ba1b5fedcd442b58a8f9" title="lbann::lbann_comm::\lmodel_allreduce" alt="" coords="230,131,375,169"/><area shape="rect" id="node5" href="classlbann_1_1lbann__comm.html#a929f44a9a9563ae9e4ffe7d44235a195" title="lbann::lbann_comm::\lmodel_broadcast" alt="" coords="230,193,375,232"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8001220957e42369e550b54057542933"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::target_layer_distributed_minibatch_parallel_io::fp_linearity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lbann__base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="lbann__base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="lbann__base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="lbann__base_8hpp.html#afad88fb587c304caea8a36ee5a5c1df8">ElMat</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Local array to build global view of maximum indicies. </p>

<p>Reimplemented from <a class="el" href="classlbann_1_1Layer.html#ae9e1c671ec408bdd539ec728ce1e8b28">lbann::Layer</a>.</p>

<p>Definition at line <a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8hpp_source.html#l00059">59</a> of file <a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8hpp_source.html">lbann_target_layer_distributed_minibatch_parallel_io.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;{}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1656c9772680bc8d4ba8277274c6f27d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="lbann__base_8hpp.html#a2781a159088df64ed7d47cc91c4dc0a8">execution_mode</a> lbann::target_layer_distributed_minibatch_parallel_io::get_execution_mode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classlbann_1_1distributed__minibatch__parallel__io.html#a72a85b41372e22cba16dddda84983093">lbann::distributed_minibatch_parallel_io</a>.</p>

<p>Definition at line <a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8cpp_source.html#l00167">167</a> of file <a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8cpp_source.html">lbann_target_layer_distributed_minibatch_parallel_io.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                                                                                       {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1Layer.html#af8b115cb89d6e8081de3f148a8ad2ef7">m_execution_mode</a>;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1Layer_html_af8b115cb89d6e8081de3f148a8ad2ef7"><div class="ttname"><a href="classlbann_1_1Layer.html#af8b115cb89d6e8081de3f148a8ad2ef7">lbann::Layer::m_execution_mode</a></div><div class="ttdeci">execution_mode m_execution_mode</div><div class="ttdef"><b>Definition:</b> <a href="lbann__layer_8hpp_source.html#l00115">lbann_layer.hpp:115</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af0866c6c725c0938d388fea84f3ad398"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::target_layer_distributed_minibatch_parallel_io::preprocess_data_samples </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> &amp;&#160;</td>
          <td class="paramname"><em>M_local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_samples_in_batch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classlbann_1_1distributed__minibatch__parallel__io.html#acc0bb9e26d23850e19f00663bee86bcd">lbann::distributed_minibatch_parallel_io</a>.</p>

<p>Definition at line <a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8cpp_source.html#l00152">152</a> of file <a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8cpp_source.html">lbann_target_layer_distributed_minibatch_parallel_io.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                                                                                                                        {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae3d33d5cbe949783e2ef489bc771a721"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::target_layer_distributed_minibatch_parallel_io::setup </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_prev_neurons</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>If the target layer shares a data reader with an input layer, do not setup the data reader a second time</p>
<p>If the target layer shares a data reader with an input layer, do not setup the data reader a second time</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000009">Todo:</a></b></dt><dd>put in warning about bad target size </dd></dl>
<p>Note that the column max matrix has the number of mini-batches on the rows instead of columns </p>

<p>Reimplemented from <a class="el" href="classlbann_1_1Layer.html#a20442464265da1cb2aeb1cf82640702f">lbann::Layer</a>.</p>

<p>Definition at line <a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8cpp_source.html#l00051">51</a> of file <a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8cpp_source.html">lbann_target_layer_distributed_minibatch_parallel_io.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                                                                                    {</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1target__layer.html#ad19d7a3ed9687a2b52e05fcc99dd51f7">m_training_data_reader</a> != <a class="code" href="datatype_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="classlbann_1_1target__layer.html#a576266beaf97c614d8f5f3a3ae005b0d">m_shared_data_reader</a>) { </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;      <a class="code" href="classlbann_1_1target__layer.html#ad19d7a3ed9687a2b52e05fcc99dd51f7">m_training_data_reader</a>-&gt;<a class="code" href="classlbann_1_1DataReader.html#a9ef0d2793872f5ce4b9cdda3fa96e729">setup</a>(<a class="code" href="classlbann_1_1Layer.html#ad20dd05617ed950162e0fdb95bc23096">Layer::comm</a>-&gt;get_rank_in_model() * <a class="code" href="classlbann_1_1Layer.html#a30aaa195765788f649ce70e855a74081">Layer::m_mini_batch_size</a>,</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                                  <a class="code" href="classlbann_1_1distributed__minibatch__parallel__io.html#afd4635e8e81acf72e9164d91fb3209ef">m_num_parallel_readers_training</a> * <a class="code" href="classlbann_1_1Layer.html#a30aaa195765788f649ce70e855a74081">Layer::m_mini_batch_size</a>);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    }</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  }</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1target__layer.html#a1c72c9c780cc29da6db5121da085e7d2">m_testing_data_reader</a> != <a class="code" href="datatype_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="classlbann_1_1target__layer.html#a576266beaf97c614d8f5f3a3ae005b0d">m_shared_data_reader</a>) { </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;      <a class="code" href="classlbann_1_1target__layer.html#a1c72c9c780cc29da6db5121da085e7d2">m_testing_data_reader</a>-&gt;<a class="code" href="classlbann_1_1DataReader.html#a9ef0d2793872f5ce4b9cdda3fa96e729">setup</a>(<a class="code" href="classlbann_1_1Layer.html#ad20dd05617ed950162e0fdb95bc23096">Layer::comm</a>-&gt;get_rank_in_model() * <a class="code" href="classlbann_1_1Layer.html#a30aaa195765788f649ce70e855a74081">Layer::m_mini_batch_size</a>,</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                                 <a class="code" href="classlbann_1_1distributed__minibatch__parallel__io.html#aa27d55e192717c28ce6785411585e60a">m_num_parallel_readers_testing</a> * <a class="code" href="classlbann_1_1Layer.html#a30aaa195765788f649ce70e855a74081">Layer::m_mini_batch_size</a>);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    }</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  }</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="keywordflow">if</span>(num_prev_neurons != <a class="code" href="classlbann_1_1Layer.html#a9d4a379d5c9e1102e63b48c53dd8ed44">NumNeurons</a>) {</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordflow">throw</span> lbann_exception(<span class="stringliteral">&quot;lbann_target_layer_distributed_minibatch_parallel_io: number of neurons in previous layer does not match the number of neurons in the target layer.&quot;</span>);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  }</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  Zeros(*<a class="code" href="classlbann_1_1Layer.html#a34f5517610ada7dd06205cb97d97b369">Ds_Temp</a>, <a class="code" href="classlbann_1_1Layer.html#a9d4a379d5c9e1102e63b48c53dd8ed44">NumNeurons</a>, <a class="code" href="classlbann_1_1Layer.html#a30aaa195765788f649ce70e855a74081">Layer::m_mini_batch_size</a>);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  Zeros(<a class="code" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#adb060d52e4e5241d9e1efb2e425647d2">Y_local</a>, <a class="code" href="classlbann_1_1Layer.html#a9d4a379d5c9e1102e63b48c53dd8ed44">NumNeurons</a>, <a class="code" href="classlbann_1_1Layer.html#a30aaa195765788f649ce70e855a74081">Layer::m_mini_batch_size</a>);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  Zeros(<a class="code" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a0186b22a8ba21f0b09b3baf8415bd1c5">Ys</a>, <a class="code" href="classlbann_1_1Layer.html#a9d4a379d5c9e1102e63b48c53dd8ed44">NumNeurons</a>, <a class="code" href="classlbann_1_1Layer.html#a30aaa195765788f649ce70e855a74081">Layer::m_mini_batch_size</a>);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  Zeros(<a class="code" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#ac924bdddbbacdf2f6fe89d407bace01d">YsColMax</a>, <a class="code" href="classlbann_1_1Layer.html#a30aaa195765788f649ce70e855a74081">Layer::m_mini_batch_size</a>, 1); </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  Zeros(<a class="code" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a7f793891c78e2799bfa3ba8ca2490ca2">YsColMaxStar</a>, <a class="code" href="classlbann_1_1Layer.html#a30aaa195765788f649ce70e855a74081">Layer::m_mini_batch_size</a>, 1);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  Zeros(<a class="code" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a688267387c8d8bbfee8507d228296133">m_max_index</a>, <a class="code" href="classlbann_1_1Layer.html#a30aaa195765788f649ce70e855a74081">Layer::m_mini_batch_size</a>, 1);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  Zeros(<a class="code" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a20a14f648ce5e2778009a7154f1493bd">m_reduced_max_indicies</a>, <a class="code" href="classlbann_1_1Layer.html#a30aaa195765788f649ce70e855a74081">Layer::m_mini_batch_size</a>, 1);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <a class="code" href="classlbann_1_1distributed__minibatch__parallel__io.html#a39cc10542de6a808b578460b2a76475c">m_local_data_valid</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <a class="code" href="classlbann_1_1distributed__minibatch__parallel__io.html#a6be7e7aad366708899a949813dc2554f">m_local_reader_done</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <a class="code" href="classlbann_1_1distributed__minibatch__parallel__io.html#aa595846c85d451799e44d58b8203192d">m_num_data_per_epoch</a> = 0;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1target__layer__distributed__minibatch__parallel__io_html_a20a14f648ce5e2778009a7154f1493bd"><div class="ttname"><a href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a20a14f648ce5e2778009a7154f1493bd">lbann::target_layer_distributed_minibatch_parallel_io::m_reduced_max_indicies</a></div><div class="ttdeci">Mat m_reduced_max_indicies</div><div class="ttdoc">Local array to hold max indicies. </div><div class="ttdef"><b>Definition:</b> <a href="lbann__target__layer__distributed__minibatch__parallel__io_8hpp_source.html#l00056">lbann_target_layer_distributed_minibatch_parallel_io.hpp:56</a></div></div>
<div class="ttc" id="classlbann_1_1target__layer__distributed__minibatch__parallel__io_html_a688267387c8d8bbfee8507d228296133"><div class="ttname"><a href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a688267387c8d8bbfee8507d228296133">lbann::target_layer_distributed_minibatch_parallel_io::m_max_index</a></div><div class="ttdeci">Mat m_max_index</div><div class="ttdef"><b>Definition:</b> <a href="lbann__target__layer__distributed__minibatch__parallel__io_8hpp_source.html#l00055">lbann_target_layer_distributed_minibatch_parallel_io.hpp:55</a></div></div>
<div class="ttc" id="classlbann_1_1distributed__minibatch__parallel__io_html_afd4635e8e81acf72e9164d91fb3209ef"><div class="ttname"><a href="classlbann_1_1distributed__minibatch__parallel__io.html#afd4635e8e81acf72e9164d91fb3209ef">lbann::distributed_minibatch_parallel_io::m_num_parallel_readers_training</a></div><div class="ttdeci">int m_num_parallel_readers_training</div><div class="ttdef"><b>Definition:</b> <a href="lbann__distributed__minibatch__parallel__io_8hpp_source.html#l00057">lbann_distributed_minibatch_parallel_io.hpp:57</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a34f5517610ada7dd06205cb97d97b369"><div class="ttname"><a href="classlbann_1_1Layer.html#a34f5517610ada7dd06205cb97d97b369">lbann::Layer::Ds_Temp</a></div><div class="ttdeci">ElMat * Ds_Temp</div><div class="ttdef"><b>Definition:</b> <a href="lbann__layer_8hpp_source.html#l00123">lbann_layer.hpp:123</a></div></div>
<div class="ttc" id="classlbann_1_1distributed__minibatch__parallel__io_html_a6be7e7aad366708899a949813dc2554f"><div class="ttname"><a href="classlbann_1_1distributed__minibatch__parallel__io.html#a6be7e7aad366708899a949813dc2554f">lbann::distributed_minibatch_parallel_io::m_local_reader_done</a></div><div class="ttdeci">int m_local_reader_done</div><div class="ttdef"><b>Definition:</b> <a href="lbann__distributed__minibatch__parallel__io_8hpp_source.html#l00059">lbann_distributed_minibatch_parallel_io.hpp:59</a></div></div>
<div class="ttc" id="classlbann_1_1target__layer__distributed__minibatch__parallel__io_html_ac924bdddbbacdf2f6fe89d407bace01d"><div class="ttname"><a href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#ac924bdddbbacdf2f6fe89d407bace01d">lbann::target_layer_distributed_minibatch_parallel_io::YsColMax</a></div><div class="ttdeci">ColSumMat YsColMax</div><div class="ttdef"><b>Definition:</b> <a href="lbann__target__layer__distributed__minibatch__parallel__io_8hpp_source.html#l00053">lbann_target_layer_distributed_minibatch_parallel_io.hpp:53</a></div></div>
<div class="ttc" id="classlbann_1_1target__layer__distributed__minibatch__parallel__io_html_a7f793891c78e2799bfa3ba8ca2490ca2"><div class="ttname"><a href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a7f793891c78e2799bfa3ba8ca2490ca2">lbann::target_layer_distributed_minibatch_parallel_io::YsColMaxStar</a></div><div class="ttdeci">StarMat YsColMaxStar</div><div class="ttdoc">Note that the column max matrix has the number of mini-batches on the rows instead of columns...</div><div class="ttdef"><b>Definition:</b> <a href="lbann__target__layer__distributed__minibatch__parallel__io_8hpp_source.html#l00054">lbann_target_layer_distributed_minibatch_parallel_io.hpp:54</a></div></div>
<div class="ttc" id="classlbann_1_1target__layer_html_ad19d7a3ed9687a2b52e05fcc99dd51f7"><div class="ttname"><a href="classlbann_1_1target__layer.html#ad19d7a3ed9687a2b52e05fcc99dd51f7">lbann::target_layer::m_training_data_reader</a></div><div class="ttdeci">DataReader * m_training_data_reader</div><div class="ttdef"><b>Definition:</b> <a href="lbann__target__layer_8hpp_source.html#l00051">lbann_target_layer.hpp:51</a></div></div>
<div class="ttc" id="classlbann_1_1target__layer__distributed__minibatch__parallel__io_html_adb060d52e4e5241d9e1efb2e425647d2"><div class="ttname"><a href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#adb060d52e4e5241d9e1efb2e425647d2">lbann::target_layer_distributed_minibatch_parallel_io::Y_local</a></div><div class="ttdeci">Mat Y_local</div><div class="ttdef"><b>Definition:</b> <a href="lbann__target__layer__distributed__minibatch__parallel__io_8hpp_source.html#l00051">lbann_target_layer_distributed_minibatch_parallel_io.hpp:51</a></div></div>
<div class="ttc" id="classlbann_1_1target__layer_html_a1c72c9c780cc29da6db5121da085e7d2"><div class="ttname"><a href="classlbann_1_1target__layer.html#a1c72c9c780cc29da6db5121da085e7d2">lbann::target_layer::m_testing_data_reader</a></div><div class="ttdeci">DataReader * m_testing_data_reader</div><div class="ttdef"><b>Definition:</b> <a href="lbann__target__layer_8hpp_source.html#l00052">lbann_target_layer.hpp:52</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a30aaa195765788f649ce70e855a74081"><div class="ttname"><a href="classlbann_1_1Layer.html#a30aaa195765788f649ce70e855a74081">lbann::Layer::m_mini_batch_size</a></div><div class="ttdeci">uint m_mini_batch_size</div><div class="ttdef"><b>Definition:</b> <a href="lbann__layer_8hpp_source.html#l00145">lbann_layer.hpp:145</a></div></div>
<div class="ttc" id="classlbann_1_1target__layer__distributed__minibatch__parallel__io_html_a0186b22a8ba21f0b09b3baf8415bd1c5"><div class="ttname"><a href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html#a0186b22a8ba21f0b09b3baf8415bd1c5">lbann::target_layer_distributed_minibatch_parallel_io::Ys</a></div><div class="ttdeci">CircMat Ys</div><div class="ttdef"><b>Definition:</b> <a href="lbann__target__layer__distributed__minibatch__parallel__io_8hpp_source.html#l00052">lbann_target_layer_distributed_minibatch_parallel_io.hpp:52</a></div></div>
<div class="ttc" id="classlbann_1_1distributed__minibatch__parallel__io_html_aa595846c85d451799e44d58b8203192d"><div class="ttname"><a href="classlbann_1_1distributed__minibatch__parallel__io.html#aa595846c85d451799e44d58b8203192d">lbann::distributed_minibatch_parallel_io::m_num_data_per_epoch</a></div><div class="ttdeci">long m_num_data_per_epoch</div><div class="ttdef"><b>Definition:</b> <a href="lbann__distributed__minibatch__parallel__io_8hpp_source.html#l00063">lbann_distributed_minibatch_parallel_io.hpp:63</a></div></div>
<div class="ttc" id="datatype_8hpp_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="datatype_8hpp.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="datatype_8hpp_source.html#l00035">datatype.hpp:35</a></div></div>
<div class="ttc" id="classlbann_1_1DataReader_html_a9ef0d2793872f5ce4b9cdda3fa96e729"><div class="ttname"><a href="classlbann_1_1DataReader.html#a9ef0d2793872f5ce4b9cdda3fa96e729">lbann::DataReader::setup</a></div><div class="ttdeci">void setup(int base_offset, int stride)</div><div class="ttdef"><b>Definition:</b> <a href="lbann__data__reader_8hpp_source.html#l00061">lbann_data_reader.hpp:61</a></div></div>
<div class="ttc" id="classlbann_1_1target__layer_html_a576266beaf97c614d8f5f3a3ae005b0d"><div class="ttname"><a href="classlbann_1_1target__layer.html#a576266beaf97c614d8f5f3a3ae005b0d">lbann::target_layer::m_shared_data_reader</a></div><div class="ttdeci">bool m_shared_data_reader</div><div class="ttdef"><b>Definition:</b> <a href="lbann__target__layer_8hpp_source.html#l00053">lbann_target_layer.hpp:53</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_a9d4a379d5c9e1102e63b48c53dd8ed44"><div class="ttname"><a href="classlbann_1_1Layer.html#a9d4a379d5c9e1102e63b48c53dd8ed44">lbann::Layer::NumNeurons</a></div><div class="ttdeci">uint NumNeurons</div><div class="ttdef"><b>Definition:</b> <a href="lbann__layer_8hpp_source.html#l00114">lbann_layer.hpp:114</a></div></div>
<div class="ttc" id="classlbann_1_1Layer_html_ad20dd05617ed950162e0fdb95bc23096"><div class="ttname"><a href="classlbann_1_1Layer.html#ad20dd05617ed950162e0fdb95bc23096">lbann::Layer::comm</a></div><div class="ttdeci">lbann_comm * comm</div><div class="ttdef"><b>Definition:</b> <a href="lbann__layer_8hpp_source.html#l00131">lbann_layer.hpp:131</a></div></div>
<div class="ttc" id="classlbann_1_1distributed__minibatch__parallel__io_html_a39cc10542de6a808b578460b2a76475c"><div class="ttname"><a href="classlbann_1_1distributed__minibatch__parallel__io.html#a39cc10542de6a808b578460b2a76475c">lbann::distributed_minibatch_parallel_io::m_local_data_valid</a></div><div class="ttdeci">bool m_local_data_valid</div><div class="ttdef"><b>Definition:</b> <a href="lbann__distributed__minibatch__parallel__io_8hpp_source.html#l00061">lbann_distributed_minibatch_parallel_io.hpp:61</a></div></div>
<div class="ttc" id="classlbann_1_1distributed__minibatch__parallel__io_html_aa27d55e192717c28ce6785411585e60a"><div class="ttname"><a href="classlbann_1_1distributed__minibatch__parallel__io.html#aa27d55e192717c28ce6785411585e60a">lbann::distributed_minibatch_parallel_io::m_num_parallel_readers_testing</a></div><div class="ttdeci">int m_num_parallel_readers_testing</div><div class="ttdef"><b>Definition:</b> <a href="lbann__distributed__minibatch__parallel__io_8hpp_source.html#l00058">lbann_distributed_minibatch_parallel_io.hpp:58</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a628b485db774f8a5a4e093edd8b73f3f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lbann::target_layer_distributed_minibatch_parallel_io::update </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Once a mini-batch is processed, resuffle the data for the next batch if necessary </p>

<p>Reimplemented from <a class="el" href="classlbann_1_1Layer.html#a0fbb376cebdaa4692fdc92df34bb366c">lbann::Layer</a>.</p>

<p>Definition at line <a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8cpp_source.html#l00143">143</a> of file <a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8cpp_source.html">lbann_target_layer_distributed_minibatch_parallel_io.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                                                                 {</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1distributed__minibatch__parallel__io.html#a17aa20ba6b971b6433da058be0d4545a">is_data_set_processed</a>();</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1distributed__minibatch__parallel__io_html_a17aa20ba6b971b6433da058be0d4545a"><div class="ttname"><a href="classlbann_1_1distributed__minibatch__parallel__io.html#a17aa20ba6b971b6433da058be0d4545a">lbann::distributed_minibatch_parallel_io::is_data_set_processed</a></div><div class="ttdeci">bool is_data_set_processed()</div><div class="ttdef"><b>Definition:</b> <a href="lbann__distributed__minibatch__parallel__io_8cpp_source.html#l00122">lbann_distributed_minibatch_parallel_io.cpp:122</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a06800a7f630fef832057bd232911efb2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lbann::target_layer_distributed_minibatch_parallel_io::update_data_reader </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>If the data reader is shared with an input layer, don't update the reader just check to see if the epoch is done or will be done on the next update of the input layer (which includes adding the stride) </p>

<p>Reimplemented from <a class="el" href="classlbann_1_1distributed__minibatch__parallel__io.html#a44e74967c30e4bc0faf54a1d50cab79d">lbann::distributed_minibatch_parallel_io</a>.</p>

<p>Definition at line <a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8cpp_source.html#l00156">156</a> of file <a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8cpp_source.html">lbann_target_layer_distributed_minibatch_parallel_io.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                                                                             {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  DataReader *data_reader = <a class="code" href="classlbann_1_1target__layer.html#abf3c3f3037ddff8619012dbd0f8027ca">target_layer::select_data_reader</a>();</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1target__layer.html#a576266beaf97c614d8f5f3a3ae005b0d">m_shared_data_reader</a>) { </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keywordflow">return</span> (data_reader-&gt;get_next_position() &lt; data_reader-&gt;getNumData());</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  }<span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">return</span> data_reader-&gt;update();</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  }</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1target__layer_html_abf3c3f3037ddff8619012dbd0f8027ca"><div class="ttname"><a href="classlbann_1_1target__layer.html#abf3c3f3037ddff8619012dbd0f8027ca">lbann::target_layer::select_data_reader</a></div><div class="ttdeci">DataReader * select_data_reader()</div><div class="ttdef"><b>Definition:</b> <a href="lbann__target__layer_8cpp_source.html#l00077">lbann_target_layer.cpp:77</a></div></div>
<div class="ttc" id="classlbann_1_1target__layer_html_a576266beaf97c614d8f5f3a3ae005b0d"><div class="ttname"><a href="classlbann_1_1target__layer.html#a576266beaf97c614d8f5f3a3ae005b0d">lbann::target_layer::m_shared_data_reader</a></div><div class="ttdeci">bool m_shared_data_reader</div><div class="ttdef"><b>Definition:</b> <a href="lbann__target__layer_8hpp_source.html#l00053">lbann_target_layer.hpp:53</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1target__layer__distributed__minibatch__parallel__io_a06800a7f630fef832057bd232911efb2_cgraph.png" border="0" usemap="#classlbann_1_1target__layer__distributed__minibatch__parallel__io_a06800a7f630fef832057bd232911efb2_cgraph" alt=""/></div>
<map name="classlbann_1_1target__layer__distributed__minibatch__parallel__io_a06800a7f630fef832057bd232911efb2_cgraph" id="classlbann_1_1target__layer__distributed__minibatch__parallel__io_a06800a7f630fef832057bd232911efb2_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1target__layer.html#abf3c3f3037ddff8619012dbd0f8027ca" title="lbann::target_layer\l::select_data_reader" alt="" coords="224,5,367,44"/><area shape="rect" id="node3" href="classlbann_1_1DataReader.html#a14f874d8f6f0dd96eab9cf2fd64774b1" title="lbann::DataReader::\lget_next_position" alt="" coords="226,68,366,107"/><area shape="rect" id="node4" href="classlbann_1_1DataReader.html#a78d3f20a5ab7628011068127ea8b4028" title="lbann::DataReader::\lgetNumData" alt="" coords="226,131,366,169"/><area shape="rect" id="node5" href="classlbann_1_1DataReader.html#a3918f2ec31f985ce49fa5778db2ad4ba" title="lbann::DataReader::\lupdate" alt="" coords="226,193,366,232"/><area shape="rect" id="node6" href="namespacelbann.html#a4fea7ba21017b49d1e34394b4c20c764" title="lbann::get_generator" alt="" coords="415,200,560,225"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a688267387c8d8bbfee8507d228296133"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> lbann::target_layer_distributed_minibatch_parallel_io::m_max_index</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8hpp_source.html#l00055">55</a> of file <a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8hpp_source.html">lbann_target_layer_distributed_minibatch_parallel_io.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a20a14f648ce5e2778009a7154f1493bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> lbann::target_layer_distributed_minibatch_parallel_io::m_reduced_max_indicies</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Local array to hold max indicies. </p>

<p>Definition at line <a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8hpp_source.html#l00056">56</a> of file <a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8hpp_source.html">lbann_target_layer_distributed_minibatch_parallel_io.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="adb060d52e4e5241d9e1efb2e425647d2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="lbann__base_8hpp.html#a483ed30937584c6d3a4d76bff5215a34">Mat</a> lbann::target_layer_distributed_minibatch_parallel_io::Y_local</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8hpp_source.html#l00051">51</a> of file <a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8hpp_source.html">lbann_target_layer_distributed_minibatch_parallel_io.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a0186b22a8ba21f0b09b3baf8415bd1c5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="lbann__base_8hpp.html#aaf89a79f1476644edba844c4937abbcc">CircMat</a> lbann::target_layer_distributed_minibatch_parallel_io::Ys</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8hpp_source.html#l00052">52</a> of file <a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8hpp_source.html">lbann_target_layer_distributed_minibatch_parallel_io.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ac924bdddbbacdf2f6fe89d407bace01d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="lbann__base_8hpp.html#a6034e0823933305d0bd7b5ef860f5c50">ColSumMat</a> lbann::target_layer_distributed_minibatch_parallel_io::YsColMax</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8hpp_source.html#l00053">53</a> of file <a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8hpp_source.html">lbann_target_layer_distributed_minibatch_parallel_io.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a7f793891c78e2799bfa3ba8ca2490ca2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="lbann__base_8hpp.html#ac1f107dfdc1d078904b4b666af5b6b86">StarMat</a> lbann::target_layer_distributed_minibatch_parallel_io::YsColMaxStar</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Note that the column max matrix has the number of mini-batches on the rows instead of columns. </p>

<p>Definition at line <a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8hpp_source.html#l00054">54</a> of file <a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8hpp_source.html">lbann_target_layer_distributed_minibatch_parallel_io.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/lbann/layers/<a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8hpp_source.html">lbann_target_layer_distributed_minibatch_parallel_io.hpp</a></li>
<li>src/layers/<a class="el" href="lbann__target__layer__distributed__minibatch__parallel__io_8cpp_source.html">lbann_target_layer_distributed_minibatch_parallel_io.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacelbann.html">lbann</a></li><li class="navelem"><a class="el" href="classlbann_1_1target__layer__distributed__minibatch__parallel__io.html">target_layer_distributed_minibatch_parallel_io</a></li>
    <li class="footer">Generated on Mon Jul 18 2016 10:16:11 for LBANN by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
